!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){}function d(a,b){return this.channels=this.channels||{},(this.channels[a]=this.channels[a]||[]).push(b),this}function e(a,b){if(a)if(b){if(a=this.channels[a]){var c=a.indexOf(b);~c&&a.splice(c,1)}}else this.channels[a]=[];else this.channels={};return this}function f(a,b){return b=[].slice.call(arguments,1),a=this.channels[a],a&&a.forEach(function(a){a.apply(this,b)},this),this}function g(a,b){function c(){e.call(this,a,c),b.apply(this,arguments)}return d.call(this,a,c),this}function h(a,b){return a=this.channels[a],a&&b&&!!~a.indexOf(b)}b.exports=c,c.prototype.listen=c.prototype.on=c.prototype.addListener=d,c.prototype.unListen=c.prototype.off=c.prototype.removeListener=e,c.prototype.broadcast=c.prototype.emit=c.prototype.trigger=f,c.prototype.listenOnce=c.prototype.once=g,c.prototype.hasListener=c.prototype.listeners=h},{}],2:[function(a,b){function c(a,b){var c=new Error(b);return c.type=a,c}function d(a){var b=window||this,c=null;if(!b.XMLHttpRequest||"file:"==b.location.protocol&&b.ActiveXObject)if(a)"undefined"!=typeof b.XDomainRequest&&(c=new b.XDomainRequest);else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(d){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(d){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(d){}}else c=new XMLHttpRequest,!a||"withCredentials"in c||(c=null);return c}function e(){}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a){var b={};return a.split("&").forEach(function(a){var c=a.split("=");b[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}),b}function h(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function i(a,b){this.headers={},this.query={},this.data=null,this.form=null,this.method=a,this.url=b,this.href=b}function j(a,b){this.channels={},this.options=new i(a,b)}function k(a,b){var c=b.http,d=c.status,e=d/100|0;a.status=c.status,a.statusType=e,a.info=1==e,a.ok=2==e,a.clientError=4==e,a.serverError=5==e,a.error=4==e||5==e?new Error("Cannot "+b.options.method+" "+b.options.url+" "+d):!1,a.created=201==d,a.accepted=202==d,a.noContent=204==d||1223==d,a.badRequest=400==d,a.unauthorized=401==d,a.notAcceptable=406==d,a.notFound=404==d,a.forbidden=403==d,a.internalServerError=500==d}function l(a){var b=a.http.getAllResponseHeaders(),c=b.split(/\r?\n/),d={};return c.pop(),c.forEach(function(a){var b=a.indexOf(":"),c=a.slice(0,b).toLowerCase();d[c]=a.slice(b+1).trim()}),d["content-type"]=a.http.getResponseHeader("content-type"),d}function m(a,b){switch(a){case"application/x-www-form-urlencoded":return g(b);case"application/json":return JSON.parse(b);default:return b}}function n(a){var b=a.toLowerCase(),c=parseInt(a),d=parseFloat(a);switch(!0){case"true"==b:return!0;case"false"==b:return!1;case"null"==b:return null;case!isNaN(d):return d;case!isNaN(c):return c;default:return a}}function o(a){this.request=a;var b=this,c=a.http;this.text=c.responseText,k(this,a),this.headers=l(a);var d=this.header("Content-Type");d&&d.split(/\s*;\s*/).forEach(function(a){var c=a.split(/\s*=\s*/);c[1]?b[c[0]]=c[1]:b.contentType=c[0]}),this.body="HEAD"!=a.method&&c.responseText&&this.contentType?m(this.contentType,c.responseText):{}}function p(a,b){switch(!0){case!b:return new j("GET",a);case"function"==typeof b:return new j("GET",a).end(b);default:return new j(a,b)}}var q=a("./Radio"),r=["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch"],s={};s.html=s.text="text/html",s.json="application/json",s.xml="application/xml",s.urlencoded=s.form=s.url="application/x-www-form-urlencoded",s["form-data"]=s.multipart="multipart/form-data","".trim||(String.prototype.trim=function(){return this.replace(/(^\s*|\s*$)/g,"")}),[].forEach||(Array.prototype.forEach=function(a,b){for(var c=-1,d=this.length;++c<d;)a.call(b,this[c],c,this)}),i.prototype.guessHeader=function(){var a=this.getHeader("Content-Type");if(!a){var b=this.form||this.data,c={}.toString.call(b);switch(!0){case"GET"==this.method:case"HEAD"==this.method:break;case"string"==typeof b:case"number"==typeof b:case"boolean"==typeof b:this.setHeader("Content-Type","text/html");break;case"[object File]"==c:case"[object Blob]"==c:case"[object FormData]"==c:break;case"[object Object]"==c:case Array.isArray(b):default:this.setHeader("Content-Type","application/json")}}},i.prototype.createBody=function(){var a=this.form||this.data,b={}.toString.call(a),c=this.getHeader("Content-Type");switch(!0){case"GET"==this.method:case"HEAD"==this.method:case"string"==typeof a:case"[object File]"==b:case"[object Blob]"==b:case"[object FormData]"==b:case!c:return a;case"application/x-www-form-urlencoded"==c:return h(a);case"application/json"==c:return JSON.stringify(a);default:return a}},i.prototype.prepare=function(){var a=d(this.cors),b=h(this.query),c=this.method,e=this.url,f=this.headers;b&&(e+=~e.indexOf("?")?"&"+b:"?"+b),this.href=e,this.withCredentials&&(a.withCredentials=!0),this.user&&this.password?a.open(c,e,!0,this.user,this.password):a.open(c,e,!0);for(var g in f)f[g]&&a.setRequestHeader(g,f[g]);return a},i.prototype.attach=function(a,b,c){if(window.FormData){if(this.form=this.form||new FormData,!this.form.append)throw new Error("Couldn't append to "+this.form);this.form.append(a,b,c)}else this.addData(a,b)},i.prototype.setData=function(a,b){void 0!=b?(this.data=this.data||{},this.data[a]=b):this.data=a,this.guessHeader()},i.prototype.setForm=function(a){a instanceof Element&&"FORM"==a.tagName?window.FormData?this.form=new FormData(a):[].slice.call(a).forEach(function(a){a.name&&this.addData(a.name,a.value)},this):this.form=a,this.guessHeader()},i.prototype.addData=function(a,b){this.data=this.data||{},void 0!=b?this.data[a]=b:"string"!=typeof a&&f(this.data,a),this.guessHeader()},i.prototype.getHeader=function(a){return this.headers[a.toLowerCase()]},i.prototype.setHeader=function(a,b){if(void 0!=b)this.headers[a.toLowerCase()]=b;else if("string"!=typeof a)for(var c in a)this.headers[c.toLowerCase()]=a[c]},i.prototype.addQuery=function(a,b){if(void 0!=b)this.query[a]=b;else if("string"!=typeof a)for(var c in a)a.hasOwnProperty(c)&&(this.query[c]=a[c])},i.prototype.setUser=function(a,b){this.user=a,this.password=b},f(j.prototype,q.prototype),j.prototype.auth=function(a,b){return this.header("Authorization","Basic"+btoa(a+":"+b)),this},j.prototype.user=function(a,b){return this.options.setUser(a,b),this},j.prototype.header=function(a,b){return this.options.setHeader(a,b),this},j.prototype.query=function(a,b){return this.options.addQuery(a,b),this},j.prototype.contentType=function(a){return a=s[a]||a,this.header("Content-Type",a),this},j.prototype.accept=function(a){return a=s[a]||a,this.header("Accept",a),this},j.prototype.withCredentials=function(){return this.options.withCredentials=!0,this},j.prototype.form=function(a){return this.options.setForm(a),this},j.prototype.attach=function(a,b,c){return this.options.attach(a,b,c),this},j.prototype.send=function(a,b){return this.options.setData(a,b),this},j.prototype.append=function(a,b){return this.options.addData(a,b),this},j.prototype.abort=function(){return this.aborted?this:(this.aborted=!0,this.http.abort(),this.broadcast("abort"),this)},j.prototype.timeout=function(a){return this.timeoutTime=a,this},j.prototype.cors=function(){return this.options.cors=!0,this},j.prototype.end=function(a){a=a||e;var b,d=this,f=this.options,g=f.prepare(),h=this.timeoutTime;return this.http=g,this.options.cors&&!g?(a(c("cors","Cross Origin requests are not supported")),this):(g.onreadystatechange=function(){4==g.readyState&&(0==g.status?a(d.aborted?c("timeout","Connection timed out"):c("crossDomain","Origin is not allowed by Access-Control-Allow-Origin")):d.broadcast("end"))},g.upload&&(g.upload.onprogress=function(a){a.percent=a.loaded/a.total*100,d.broadcast("progress",a)}),d.listenOnce("abort",function(){clearTimeout(b)}),d.listenOnce("end",function(){clearTimeout(b),a(null,new o(this))}),h&&(b=setTimeout(function(){d.abort()},f.timeout)),this.broadcast("send"),g.send(f.createBody()),this)},o.prototype.header=function(a){return this.headers[a.toLowerCase()]},o.prototype.headerParams=function(a){var b=this.header(a);if(!b)return null;var c={};return b.split(/\s*[;,]\s*/).forEach(function(a){var b=a.split(/\s*=\s*/),d=b[0],e=b[1];c[d]=e?n(e):!0}),c},r.forEach(function(a){p[a.toLowerCase()]=function(b,c){var d=p(a.toUpperCase(),b);return c&&d.end(c),d}}),b.exports=window.miniagent=p},{"./Radio":1}]},{},[2]);